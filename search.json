[{"title":"战略转移 Cloudflare","date":"2021-05-23T05:23:10.000Z","url":"/cloudflare/","tags":[["记录","/tags/%E8%AE%B0%E5%BD%95/"],["分享","/tags/%E5%88%86%E4%BA%AB/"],["教程","/tags/%E6%95%99%E7%A8%8B/"]],"categories":[["建站日志","/categories/%E5%BB%BA%E7%AB%99%E6%97%A5%E5%BF%97/"]],"content":" 用 Cloudflare Pages 替换 GitHub Pages。 缘起 在浏览本 Hexo 主题的作者的博客——糖菓·部落 时，发现他的博客没有托管在 Github Pages 上，而是使用了Cloudflare Pages。虽然我有了解，现在国内外有很多静态网页托管平台，但 GitHub Pages 在各方面应该算是一个首选。（尤其对于我这种新手） 与此同时，我之前在 百度站长平台 上提交的博客网址至今一个索引量也没有。虽然我的网站刚刚开始不久，但没有一个索引量，使我开始怀疑是不是哪里出了问题。 于是，我开始在网上搜索“博客的搜索引擎收录”，偶然间发现了这么一篇文章 解决百度爬虫无法爬取 Github Pages 个人博客的问题。 百度爬虫被拒绝访问 然而，2015 年，因为一些不能细说的原因，Github 开始拒绝百度爬虫的访问，直接返回 403。官方给出原因是，百度爬虫爬得太狠，影响了 Github Page 服务的正常使用。这就导致了，但凡在 Github Page 搭建的个人博客，都无法被百度收录。 文中给出的解决方案有： CDN 解决最后一公里的资源分发，但无法完美解决问题，尤其对小流量的个人博客。 Coding Pages 做镜像站，但访问时会先出现跳转页面，导致百度爬虫无法正常收录。 使用 zeit.co 提供的静态资源 hosting 服务，本质上他们提供了 Storage+CDN+DNS 这一套完整服务。 解决问题 受文章 解决百度爬虫无法爬取 Github Pages 个人博客的问题 的启发，我想 Cloudflare Pages 是不是也能解决相同的问题呢。 于是在网上继续搜索，找到以下博文： 迁移博客到 Cloudflare Pages 利用 CloudFlare Pages 搭建一个 Hexo 博客 我开始了解到，Cloudflare Pages 项目 现在处于公测阶段 (Public Beta)，任何人都可以使用，只需要注册一个 CloudFlare 账户。免费套餐单月可部署 500 次，无限流量。Cloudflare Pages 依托于成立于 2009 年 7 月的网络服务提供商Cloudflare, Inc.，因此可以提供稳定的静态网页托管服务。 “ Cloudflare 家大业大，并且是专门做网络服务的，做网页托管应该不会太菜吧。 ” 转移到 Cloudflare Pages 能不能解决百度收录的问题，我不知道，但有人用它就说明 Cloudflare 不差。 转移部署 不行，我要给我的博客最好的环境，折腾开始！当然，如果已有 GitHub Pages 搭建好的博客，单纯想要把把托管转移到 Cloudflare Pages，这个过程是不难的。 在 Pages 注册好账号，点击那个大大的黄色的 Get Started 按钮，按照指引授权 GitHub 权限，选择构建使用的仓库(就是 GitHub Pages 的仓库地址)。 设置构建的命令，我不太懂，也没有改动，结果就部署完成了，就不管它了。 【部署完成】&gt;&gt;  我实测从上传完成，到部署完成用时在 50s 左右。 域名解析 我的域名 huanz.top 之前托管在DNSPod。由于 Cloudflare 也提供了 DNS 解析服务，就顺便也试用了一下它的免费的解析套餐。 感觉上速度不太行，已换回DNSPod，注意 Cloudflare 的自定义域不要删除，只把 Cloudflare 的 DNS 解析服务的 CNAME 记录删除即可。 部署原理 以下是我的理解： Hexo 把本地生成好的静态文件上传到 GitHub 仓库里。 Cloudflare Pages 会自动访问 GitHub 仓库，在自己的主机上生成一个网站，完成部署。 此时，博客网站已完全脱离 GitHub/GitHub Pages，在访客访问 huanz.top 时就会解析到 Cloudflare 的主机。 同理，GitHub Pages 则是在自己主机上生成，主机在国外。 Cloudflare Pages 在国内有主机，访问速度会较快。（官网介绍） 但目前来看，主机还是美国节点，速度看 这里 更多细节 更多细节上的疑问，欢迎在下面评论区进行留言交流。"},{"title":"如何开启站长统计","date":"2021-05-20T13:40:00.000Z","url":"/cnzz/","tags":[["记录","/tags/%E8%AE%B0%E5%BD%95/"],["分享","/tags/%E5%88%86%E4%BA%AB/"],["教程","/tags/%E6%95%99%E7%A8%8B/"]],"categories":[["建站日志","/categories/%E5%BB%BA%E7%AB%99%E6%97%A5%E5%BF%97/"]],"content":"经过今天的折腾，本站已成功开启 站长统计 功能。 服务依托于 cnzz.com，访问 站长统计 即可查看我站统计数据。 如何添加 cnzz.com 站长统计代码到网页上？据 cnzz 网站介绍，将统计代码粘贴到您网站所有页面的 &lt;/body&gt; 前，添加成功后开始统计。 同时 cnzz 网站说明，加载 CNZZ 统计代码不会影响您网页的正常显示和加载速度。 如何将站长统计的文字 / 图片隐藏？在统计代码 javascript 中的 ducument.write(unescape(“%3Cspan 和 id=’cnzz_stat_icon’中间加上 style=&#39;display:none 即可。 如本网站的代码实现如下。 本主题 KRATOS:REBIRTH 是如何实现的？本博客使用 Hexo 搭建，几乎无需触碰底层代码，当仍可通过修改主题文件对网站实现自定义。我当前使用的主题 KRATOS:REBIRTH 默认支持在页尾添加统计代码。 具体位置在 themes\\Kratos-Rebirth\\_config.yml 文件中 # Global 全局配置 的site_analytics:。 如果想要按照 cnzz.com 的要求，“网站所有页面的 前。”则需要打开 themes\\Kratos-Rebirth\\layout\\_partial\\head.ejs 文件，在文本的最前面添加统计代码，再对博客进行部署。 我对主题文件做了什么？在 themes\\Kratos-Rebirth\\_config.yml 文件中 # Global 全局配置 的最后添加一个自定义项如下。 在 themes\\Kratos-Rebirth\\layout\\_partial\\head.ejs 文件中，在文本最前添加如下代码, 自定义项与前面对应。 这样当我更换域名，只需修改在配置文件中统计代码 id 号即可。"},{"title":"一起来讨论吧","date":"2021-05-20T04:12:50.000Z","url":"/waline/","tags":[["记录","/tags/%E8%AE%B0%E5%BD%95/"],["分享","/tags/%E5%88%86%E4%BA%AB/"]],"categories":[["建站日志","/categories/%E5%BB%BA%E7%AB%99%E6%97%A5%E5%BF%97/"]],"content":" Waline | 一款基于 Valine 衍生的简洁、安全的评论系统。 经过昨天的昨天的折腾，本站已成功启用主题内置 Waline 评论区功能，欢迎在本站文章下评论区留言。 使用 Waline 的过程虽然比 Valine 稍复杂。但 Waline 不仅是一个评论系统，还具有文章阅读量统计功能。同时，也有一个简单的后端管理系统，方便进行内容管理，具体更多功能可参见 官网文档。 总之就是十分强大！ 在此感谢： 服务商 帮助的项目 Waline 提供的强大的评论区系统服务。 Leancloud 提供数据存储支持。 Github 提供评论区数据存储支持。 Vercel 提供项目生成的技术支持。 Gravater 提供评论区头像支持。 "},{"title":"小单车，我们走","date":"2021-05-18T10:51:41.000Z","url":"/smartcar/","tags":[["分享","/tags/%E5%88%86%E4%BA%AB/"],["开源","/tags/%E5%BC%80%E6%BA%90/"]],"categories":[["智能车","/categories/%E6%99%BA%E8%83%BD%E8%BD%A6/"]],"content":" 2021 智能车单车组硬件开源 今天就拿 GitHub 的一个项目水一篇~ 本人参与硬件部分，不过也是新手。把自己的硬件部分开源，希望和大家一起交流进步。好多资料网络上都可以查得到的，可以认为这里做的是硬件方案的分享。 本篇博客记录截至 2021.5.18，最新更新请前往 GitHub 项目地址 。 2021-3-20 先上传前期的一套方案的原理图，目前遇到的问题是主板模块下载程序成功率较低。 可能是 MCU 供电和 USB 转 TTL 电压因为分开供电，电压不稳造成的。 MCU.~(118).SchDocMOTOR V1.1.SchDocOPA4377 四路 V2.0.SchDoc 2021-3-22 究极一体板方案！（bushi）这是最近尝试的一体板方案，包括全桥驱动芯片和四电感运放部分，希望不要出问题。 MCU V3.1.SchDoc 2021-4-7MCU V3.1 的驱动部分，8V 稳压好像只能到 7.1V。 MCU V3.1.SchDoc 2021-5-17 把主板上稳压去掉了，用的之前的驱动板驱动，几个月了，稳的一批。 不过我现在的 2350 运放又出问题了，之前还能用，现在咋用不了了，气！MCU V3.1.SchDoc "},{"title":"在路上，忽然想到","date":"2021-05-17T14:22:45.000Z","url":"/occurrent/","tags":[["记录","/tags/%E8%AE%B0%E5%BD%95/"],["随笔","/tags/%E9%9A%8F%E7%AC%94/"],["回忆","/tags/%E5%9B%9E%E5%BF%86/"]],"categories":[["建站日志","/categories/%E5%BB%BA%E7%AB%99%E6%97%A5%E5%BF%97/"]],"content":" 晚上自习完，在路上忽然想到的，再不来记一下就忘了。 17 年暑假，曾经搭建过的第一个博客网站：waguansi.xyz。那时是用 wordpress 搭建，主机商的虚拟主机支持一键安装博客系统，所以不用特别折腾。 之前和现在一样，也是用的 namesilo 买域名加 DNSPod 解析。大概写了一年，到后期就鸽了，一年后主机到期就没再续了。 幸运的是，当时把博客内容一片一片复制保存下来了。之后的一段时间，虽然网站没了，保留下来的那个文本还是被我当成日记在接着写。啥时候迁移一部分过来，这样我的博客时间就能增加了~ 是啊，还好，现在捡起来了。 "},{"title":"新域名，启动！","date":"2021-05-16T06:30:06.000Z","url":"/domain/","tags":[["记录","/tags/%E8%AE%B0%E5%BD%95/"]],"categories":[["建站日志","/categories/%E5%BB%BA%E7%AB%99%E6%97%A5%E5%BF%97/"]],"content":" huanz.top | 一次尝试：基于 Github Pages 和 Hexo 尝试搭建的博客网站。 购买了一年的域名：huanz.top，选了好久，最终决定用付费的，省心。 .top 域名首年费用 0.99 刀，namesilo支持微信支付，最后结算时支付了人民币 6.37 元。 域名是使用腾讯系的 DNSPod 解析gone1724.github.io，DNSPod 好久没登陆了，没想到它还在解析着以前申请过的一个 .tk 域名。好执着~ 这腾讯怎么就把我域名给拦截了？ 已经申诉成功。 "},{"title":"Hello World!","date":"2021-05-15T02:50:43.000Z","url":"/hello/","tags":[["记录","/tags/%E8%AE%B0%E5%BD%95/"]],"categories":[["建站日志","/categories/%E5%BB%BA%E7%AB%99%E6%97%A5%E5%BF%97/"]],"content":" Hello World! 这是第一次尝试发布文章。 "}]